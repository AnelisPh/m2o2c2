\documentclass[twoside,numbers]


\input{preamble.tex}

\let\masterdocument\document
\let\endmasterdocument\enddocument
\let\otherinput\input %% Numbering starts a page too soon without this
\newcommand{\masterinput}[1]{\otherinput{#1}\clearpage} %% Numbering starts a page too soon without this

\begin{masterdocument}

\begin{titlepage}
    \vspace*{1in}
    \begin{center}
      {\Huge \bfseries Massively Multivariable Open Online Calculus }\\[0.5cm]
      {\Large Jim Fowler and Steve Gubkin}\\[0.4cm]
      EXPERIMENTAL DRAFT\\[0.4cm]
      This document was typeset on \today.
    \end{center}
    %\vspace*{\fill}
  \end{titlepage}
\setcounter{page}{2}


\makeatletter
\newpagestyle{contents}{
\sethead[\textsl{Contents}][][] % even
{}{}{\textsl{Contents}} % odd
\setfoot[\thepage][][] % even
{}{}{\thepage} % odd
}
\pagestyle{contents}
\makeatother

\tableofcontents


\renewcommand{\documentclass}{\setbox0\vbox}
\renewcommand{\input}{\setbox0\vbox}
\renewenvironment{document}{}{}

\clearpage
\pagestyle{main}

\masterinput{./week1/Rn.tex}
\masterinput{./week1/vector-spaces.tex}
\masterinput{./week1/vector-spaces/geometry.tex}
\masterinput{./week1/vector-spaces/span.tex}
\masterinput{./week1/functions.tex}
\masterinput{./week1/functions/composition.tex}
\masterinput{./week1/functions/higher-order.tex}
\masterinput{./week1/functions/higher-order/currying.tex}
\masterinput{./week1/functions/python.tex}
\masterinput{./week1/functions/python/higher-order.tex}
\masterinput{./week1/functions/python/calculus.tex}
\masterinput{./week1/linear-maps.tex}
\masterinput{./week1/linear-maps/matrices.tex}
\masterinput{./week1/linear-maps/composition.tex}
\masterinput{./week1/linear-maps/python.tex}
\masterinput{./week1/inner-product.tex}
\masterinput{./week1/inner-product/covectors.tex}
\masterinput{./week1/inner-product/dot-products.tex}
\masterinput{./week1/inner-product/length.tex}
\masterinput{./week1/inner-product/angle.tex}
\masterinput{./week1/inner-product/cauchy-schwarz.tex}
\masterinput{./week1/inner-product/multiply-dot.tex}

\masterinput{./week2/limits.tex}
\masterinput{./week2/limits/formal-limit.tex}
\masterinput{./week2/single-variable-derivative.tex}
\masterinput{./week2/multivariable-derivative.tex}
\masterinput{./week2/multivariable-derivative/intuition.tex}
\masterinput{./week2/multivariable-derivative/rigorously.tex}
\masterinput{./week2/partial-derivatives.tex}
\masterinput{./week2/gradient.tex}
\masterinput{./week2/one-forms.tex}
\masterinput{./week2/one-forms/integration-python.tex}
\masterinput{./week2/python.tex}
\masterinput{./week2/python/derivative.tex}
\masterinput{./week2/python/jacobian.tex}
\masterinput{./week2/python/relationship.tex}
\masterinput{./week2/chain-rule.tex}
\masterinput{./week2/chain-rule/proof.tex}
\masterinput{./week2/practice.tex}
\masterinput{./week2/practice/jacobian.tex}
\masterinput{./week2/practice/gradient.tex}
\masterinput{./week2/practice/linear-approximation.tex}
\masterinput{./week2/practice/direction.tex}
\masterinput{./week2/practice/stationary-points.tex}
\masterinput{./week2/practice/hypersurfaces.tex}
\masterinput{./week2/practice/chain-rule.tex}


\masterinput{./week3/abstract.tex}
\masterinput{./week3/abstract/vector-space.tex}
\masterinput{./week3/abstract/linear-maps.tex}
\masterinput{./week3/abstract/python.tex}
\masterinput{./week3/bases.tex}
\masterinput{./week3/bases/dimension.tex}
\masterinput{./week3/bases/matrix.tex}
\masterinput{./week3/subspace.tex}
\masterinput{./week3/subspace/kernel.tex}
\masterinput{./week3/subspace/image.tex}
\masterinput{./week3/subspace/rank-nullity.tex}
\masterinput{./week3/eigenstuff.tex}
\masterinput{./week3/eigenstuff/eigenvalues.tex}
\masterinput{./week3/eigenstuff/eigenspace.tex}
\masterinput{./week3/eigenstuff/eigenbasis.tex}
\masterinput{./week3/eigenstuff/python.tex}
\masterinput{./week3/cayley-hamilton.tex}

\masterinput{./week4/bilinear-maps.tex}
\masterinput{./week4/bilinear-maps/tensors.tex}
\masterinput{./week4/bilinear-maps/covectors.tex}
\masterinput{./week4/bilinear-maps/basis.tex}
\masterinput{./week4/bilinear-maps/python.tex}
\masterinput{./week4/bilinear-matrix.tex}
\masterinput{./week4/bilinear-matrix/python.tex}
\masterinput{./week4/adjoints.tex}
\masterinput{./week4/adjoints/eigenvectors.tex}
\masterinput{./week4/self-adjoint.tex}
\masterinput{./week4/self-adjoint/matrix.tex}
\masterinput{./week4/self-adjoint/python.tex}
\masterinput{./week4/definiteness.tex}


\masterinput{./week5/second-partials.tex}
\masterinput{./week5/second-partials/partials-commute.tex}
\masterinput{./week5/second-derivative.tex}
\masterinput{./week5/second-derivative/intuitively.tex}
\masterinput{./week5/second-derivative/rigorously.tex}
\masterinput{./week5/taylors-theorem.tex}
\masterinput{./week5/taylors-theorem/example.tex}
\masterinput{./week5/taylors-theorem/statement.tex}
\masterinput{./week5/taylors-theorem/practice.tex}
\masterinput{./week5/optimization.tex}
\masterinput{./week5/optimization/definitions.tex}
\masterinput{./week5/optimization/critical-points.tex}
\masterinput{./week5/optimization/second-derivative-test.tex}
\masterinput{./week5/optimization/lagrange.tex}
\masterinput{./week5/optimization/hill-climbing.tex}


\masterinput{./week6/multilinear.tex}
\masterinput{./week6/multilinear/symmetry.tex}
\masterinput{./week6/higher-order-derivatives.tex}
\masterinput{./week6/higher-order-derivatives/symmetry.tex}
\masterinput{./week6/full-taylor.tex}
\masterinput{./week6/full-taylor/python.tex}
\masterinput{./week6/denouement.tex}



\end{masterdocument}
