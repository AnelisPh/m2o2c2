\documentclass{ximera}

\title{Composition}

\begin{document}

\begin{abstract}
  One way to build new functions is via ``composition.''
\end{abstract}

Practically the most important things you can do with functions is to compose them.

\begin{definition}
  Let $f:A \to B$ and $g:B \to C$.  Then there is another function $(g
  \circ f): A \to C$ defined by $(g \circ f)(a) = g\left(f(a)\right)$
  for each $a \in A$.
  
  It is called the composition of $g$ with $f$.
\end{definition}

\begin{warning}
  The composition is only defined if the codomain of $f$ is the domain of $g$.
\end{warning}

\begin{question}
  Let $A = \{\text{cat},\text{dog}\}$, $B = \{(2,3),(5,6),(7,8)\}$, $C =
  \R$. Let $f$ be defined by $f(\text{cat}) = (2,3)$ and $f(\text{dog}
  = (7,8))$.  Let $g$ be defined by the rule $g((x,y)) = x+y$.
  \begin{solution}
    \begin{hint}
      First, $(g \circ f)(\text{cat}) = g\left(f(\text{cat}\right)$.
    \end{hint}
    \begin{hint}
      Then note that $g\left(f\left(\text{cat}\right)\right)$.
    \end{hint}
    \begin{hint}
      But this is $g\left((2,3)\right) = 2 + 3 = 5$.
    \end{hint}
    $(g \circ f)(\text{cat}) =$ \answer{5}
  \end{solution} 
\end{question}

\begin{question}
  Let $h: \R^2 \to \R^3$ be defined by $h(x,y) = (x^2,xy,z+y)$, and let $\omega: \R^3 \to \R^2$ be defined by $\omega(x,y,z) = (\sin(xyz),z)$.
  \begin{solution}
    \begin{hint}
      \begin{align*}
        (\omega\circ h)(x,y) &= \omega\left[h(x,y)\right]\\
        &= \omega(x^2,xy,z+y)\\
        &= (\sin((x^2)(xy)(z+y)), z+y)\\
        &=(\sin(x^3yz+x^3y^2),z+y)
      \end{align*}
    \end{hint}
    What is $(\omega\circ h)(x,y)$?  Format your answer as a vertical column of formulas.
    \begin{matrix-answer}
      correctMatrix = [['sin(x^3yz+x^3y^2)'],['z+y']]
    \end{matrix-answer}
  \end{solution}
\end{question}

\end{document}