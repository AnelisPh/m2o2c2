\begin{document}
\section{$\R^n$ as an inner product space}
In order to do geometry in $\R^n$, we will want to be able to compute the length of a vector, and the angle between two vectors.   Miraculously, a single operation will allow us to
compute both quantities.

\begin{definition}
	A \textit{covector} on $\R^n$ is a linear map from $\R^n \to R$.  As a matrix, it is a single row of length $n$.
\end{definition}

\begin{example}
	$\begin{bmatrix} 2 & -1 & 3 \end{bmatrix}$ is the matrix of a covector on $\R^3$.
\end{example}

\begin{question}
	\begin{solution}
	\begin{hint}
		$\begin{bmatrix} 2 & -1 & 3 \end{bmatrix} \begin{bmatrix} 3\\5\\7 \end{bmatrix} = 2(3)+-1(5)+3(7) = 22$
	\end{hint}
	$\begin{bmatrix} 2 & -1 & 3 \end{bmatrix} \begin{bmatrix} 3\\5\\7 \end{bmatrix} = $\answer{22}
	\end{solution}
\end{question}

\begin{question}
	\begin{hint}
		$\begin{bmatrix} x & y & z \end{bmatrix} \begin{bmatrix} a \\b\\c\end{bmatrix} = ax+by+cz$ 
	\end{hint}
	$\begin{bmatrix} x & y & z \end{bmatrix} \begin{bmatrix} a \\b\\c\end{bmatrix} =$ \answer{ax+by+cz}
\end{question}

There is a natural way to turn a vector into a covector, or a covector into a vector:  just turn the matrix $90^\circ$ one direction or the other!

\begin{definition}
	We define the transpose of a vector $v = \begin{bmatrix} x_1 \\x_2\\ .\\.\\. \\ x_n\ \end{bmatrix}$ to be the covector $v^\top$ with matrix 
	$\begin{bmatrix} x_1 &x_2& ... &x_n \end{bmatrix}$.
	
	Similarly we define the transpose of a covector $\omega: \begin{bmatrix} x_1 &x_2& ... &x_n\ \end{bmatrix}$ to be the vector $\omega^\top$ with matrix
	$\begin{bmatrix} x_1 \\x_2\\ .\\.\\. \\ x_n\ \end{bmatrix}$.  
\end{definition}

Observe that $(v^\top)^\top = v$ and $(\omega^\top)^\top = \omega$ for any vector $v$ and covector $\omega$.

\begin{question}
		Let $v = \begin{bmatrix}  5 \\ 3 \\ 1\end{bmatrix}$ and $w = \begin{bmatrix}  2 \\ -2 \\ 7\end{bmatrix}$ 
	\begin{solution}
	\begin{hint}
		$v^\top(w) = \begin{bmatrix} 5 & 3 & 1\end{bmatrix} \verticalvector{2\\-2\\7} = 5(2)+3(-2)+1(7) = 11$
	\end{hint}
	   $v^\top(w)=$ \answer{11}?
	\end{solution}
\end{question}

\begin{question}
		Let $v = \begin{bmatrix}  5 \\ 3 \\ 1\end{bmatrix}$ and $w = \begin{bmatrix}  2 \\ -2 \\ 7\end{bmatrix}$ , as in the question above.
	\begin{solution}
	\begin{hint}
		 \begin{align*}
		 w(v^\top) &=  \verticalvector{2\\-2\\7}\begin{bmatrix} 5 & 3 & 1\end{bmatrix}\\
		 	&=\begin{bmatrix}
		 		10  & 6 & 2\\
		 		-10 & -6& -2\\
		 		35  & 21& 7
		 	\end{bmatrix}
		 \end{align*}
	\end{hint}
	   What is $wv^\top$? 
	   	\begin{matrix-answer}
	   		correctMatrix = [['10','-6','2'],['-10','-6','-2'],['35','21','7']]
	   	\end{matrix-answer}
	\end{solution}
\end{question}



\begin{definition}
	Given two vectors $v,w \in \R^n$, we define their \textit{standard inner product} $\langle v, w\rangle$ by $\langle v,w \rangle = v^\top(w) \in \R$.  We sometimes use the notation 
	$v \cdot w$ for $\langle v , w \rangle$, and call the operation a textit{dot product}. 
\end{definition}

\begin{warning}
	As the example before this definition shows, $v^\top(w) \neq w(v^\top)$:  one is a number, while the other is a huge matrix.
\end{warning}


\begin{question}
	Make sure for yourself , by using the definition, that 
	$\begin{bmatrix} x_1 \\x_2\\ .\\.\\. \\ x_n\ \end{bmatrix} \cdot \begin{bmatrix} y_1 \\y_2\\ .\\.\\. \\ y_n\ \end{bmatrix}  = x_1y_1+x_2y_2+x_3y_3 + ...+x_ny_n$
\end{question}


	Prove the following facts about the dot product.  $\vec{u},\vec{v},\vec{w} \in \R^n$ and $a \in \R$
		\begin{en\vec{u}merate}
			\item $\vec{v} \cdot \vec{w} = \vec{w} \cdot \vec{v}$ (The dot prod\vec{u}ct is comm\vec{u}tati\vec{v}e)
			
			\item $(\vec{u}+\vec{v})\cdot \vec{w} = \vec{u}\cdot \vec{w} + \vec{v}\cdot \vec{w}$ 	and $(a\vec{v})\cdot \vec{w} = a(\vec{v} \cdot \vec{w})$ (The dot product is linear in the first argument)
			
			\item $\vec{u} \cdot (\vec{v}+\vec{w}) = \vec{u}\cdot \vec{v}+ \vec{u}\cdot \vec{w}$ and  $\vec{v} \cdot (a\vec{w}) = a(\vec{v} \cdot  \vec{w})$ (The dot product is linear in the second argument)
			
			\item $\vec{v}\cdot \vec{v} \geq 0$ (The dot product is positive definite)
			
			\item if $\vec{v} \cdot z = 0$ for all $z \in \R^n$, then $\vec{v} =\vec{0}$ (The dot product is nondegenerate)
		\end{enumerate}
	
	\begin{free-response}
			$1.$  $\vec{v} \cdot \vec{w} = v_1w_1+v_2w_2+...+v_nw_n = w_1v_1+w_2v_2+...+w_nv_n = w \cdot v$, so the dot product is commutative.
			\\
			\\
			(skipping item $2$ for now)
			
			$3.$ \begin{align*}
			\vec{u} \cdot (v+\vec{w}) &= \vec{u}^\top(v +\vec{w}) \text{ by definition}\\
			&=\vec{u}^\top(v) + \vec{u}^\top(\vec{w}) \text{ since $\vec{u}^\top: \R^n \to \R$ is linear}\\
			&=\vec{u} \cdot v+\vec{u}\cdot \vec{w} \text{ by definition}
			\end{align*}
			
			and 
			
			\begin{align*}
				\vec{u}\cdot(a\vec{w}) &=\vec{u}^\top(a\vec{w}) \text{ by definition}\\
				&= a\vec{u}^\top(\vec{w}) \text{ since $\vec{u}^\top: \R^n \to \R$ is linear}\\
				&=a\vec{u}\cdot \vec{w} \text{ by definition}
			\end{align*}
			\\
			\\
			$2.$ follows from $3$ and $1$
			\\
			\\
			$4.$ $\vec{v} \cdot \vec{v} = v_1^2+v_2^2+v_3^2+...+v_n^2$, and the square of a real number is nonnegative, so the sum of these squares is also nonnegative.
			\\
			\\
			$5.$ is perhaps the trickiest fact to prove.  Observe that if $\vec{v} \cdot \vec{z} =0$ for every $\vec{z} \in \R^n$, then this formula is true
			in particular for $z=\vec{e}_j$.  But $\vec{v} \cdot \vec{e}_j = v_j$.  Thus, by dotting with all of the standard basis vectors, we see that every coordinate of $\vec{v}$ must
			be $0$.  Thus $\vec{v}$ is the zero vector
			
	\end{free-response}
	
	The fact that the dot product is linear in two separate  vector variables means that it is an example of a ``bilinear form''.  We will make a careful study of bilinear forms
	later in this course:  it will turn out that the second derivative of a multivariable function gives a bilinear form at each point.  

So far, the inner product feels like it belongs to the realm of pure algebra.  In the next few exercises, we will start to see some hints of its geometric meaning.

\begin{question}
	Let $v  = \begin{bmatrix}  5  \\ 1\end{bmatrix}$.   
	
	\begin{solution}
		\begin{hint}
			$\langle \vec{v},\vec{v} \rangle = 5^2+1^2 = 26$
		\end{hint}
		$\langle \vec{v},\vec{v} \rangle = $ \answer{26}
	\end{solution}

\end{question}

\begin{question}
	$v  = \begin{bmatrix}  x  \\ y\end{bmatrix}$. 
	
	\begin{solution}
		\begin{hint}
			$\langle \vec{v},\vec{v} \rangle = x^2+y^2$
		\end{hint}
		$\langle \vec{v},\vec{v} \rangle = $ \answer{'x^2+y^2'}
		
		
	\end{solution}
	
	Notice that the length of the line segment from $(0,0)$ to $(x,y)$ is $\sqrt{x^2+y^2}$ by the pythagorean theorem:
		
		BADBAD PICTURE
	
\end{question}

You should have discovered that $v\cdot v$ is the square of the length of the vector $v$ when viewed as an arrow based at the origin.  So far, you have only shown this in the 
$2$ dimensional case.  See if you can do it in three dimensions:

Show that the length of the line segment from $(0,0,0)$ to $(x,y,z)$ is $\sqrt{\vec{v} \cdot \vec{v}}$, where $\vec{v}  = \begin{bmatrix}  x  \\ y \\ z\end{bmatrix}$.

Until now, you have probably not seen a treatment of length in higher dimensions.  Generalizing the results above, we define:

\begin{definition}
	The \textit{length} of a vector $\vec{v} \in \R^n$ is defined by $|v| = \sqrt{v \cdot v}$.
\end{definition}

\begin{question}
	\begin{solution}
		The length of the vector $\verticalvector(6,2,3,1)=$ \answer{'sqrt(6^2+2^+3^2+1)'}
	\end{solution}
\end{question}

\begin{question}
	\begin{solution}
		\begin{hint}
			By the pythagorean theorem, we can see that  the distance is $\sqrt{(5-2)^2+(9-3)^2}$
		\end{hint}
		\begin{hint}
			We could also view this as the length of the vector $\verticalvector{3\\6}$ which ``points'' from $(2,3)$ to $(5,9)$.
		\end{hint}
		The distance between the points $(2,3)$ and $(5,9)$ is \answer{'sqrt(3^2+6^2)'}
	\end{solution}
\end{question}

\begin{definition}
	The distance between two points $\mathbf{p}$ and $\mathbf{q}$ in $\R^n$ is defined to be the length of the ``displacement'' vector $\vec{p} -\vec{q}$.
\end{definition}

\begin{question}
	\begin{solution}
		\begin{hint}
			The displacement vector between these points is $\verticalvector{5-2\\6-7\\9-3\\8-1} = \verticalvector{3\\1\\6\\7}$
		\end{hint}
		\begin{hint}
			The length of the displacement vector is $\sqrt{3^2+1^2+6^2+7^2}$
		\end{hint}
		The distance between the points $(2,7,3,1)$ and $(5,6,9,8)$ is \answer{sqrt(3^2+1+6^2+7^2)}
	\end{solution}
\end{question}

\begin{question}
	Write an equation for the sphere centered at $(0,0,0,0)$ in $\R^4$ of radius $r$ using the coordinates $x,y,z,w$ on $\R^4$.
	\begin{solution}
		\begin{hint}
			For a point $\mathbf{p}=(x,y,z,w)$ to be on the sphere of radius $r$ centered at $(0,0,0,0)$, the distance from $\mathbf{p}$
			to the origin must be $r$
		\end{hint}
		\begin{hint}
			
		\end{hint}
		\answer{x^2+y^2+z^2+w^2} $= r^2$
	\end{solution}
\end{question}

\begin{question}
	Write an inequality stating that the point $(x,y,z,w)$ is more than $4$ units away from the point $(2,3,1,9)$
\end{question}

\begin{question}
	Show that $|a\vec{v}| = |a| |\vec{v}|$ for every $a \in \mathbb{R}$. (Note these two uses of $|\cdot|$ are distinct:  $|a|$ means the absolute value of $a$, and $|\vec{v}|$ is the 
	length of $\vec{v}$)
\end{question}

\begin{question}
	Give a vector of length $1$ which points in the same direction as $\verticalvector(1,2)$.
\end{question}

\begin{question}
	Given a nonzero vector $\vec{v} \in \R^n$, show that $\frac{1}{|\vec{v}|}\vec{v}$ is a unit vector.
\end{question}

Now that we understand the relationship between the inner product and length of vectors, we will attempt to establish a connection between the inner product and the 
angle between two vectors.

Do you remember the law of cosines?  It states the following:

\begin{theorem}
	BADBAD PICTURE
	If a triangle has side lengths $a$,$b$, and $c$, then $c^2 = a^2+b^2 - 2ab\cos(\theta)$, where $\theta$ is the angle opposite the side with length $c$.
\end{theorem}

\begin{question}
Prove the law of cosines.
\end{question}

We can rephrase this in terms of vectors, since geometrically if $\vec{v}$ and $\vec{w}$ are vectors, the third side of the triangle is the vector $w-v$.

BADBAD PICTURE

\begin{theorem}
	For any two vectors $v,w \in \R^n$, $|w-v|^2 = |w|^2 +|v^2| - 2|v| |w| \cos(\theta) $, where $\theta$ is the angle between $v$ and $w$.
\end{theorem}

(For you sticklers, this is really being taken as the definition of the angle between two vectors in arbitrary dimension)

\begin{question}
	Rewrite the theorem above by using our definition of length in terms of the dot product.  Performing some algebra you should obtain a nice expression for $v\cdot w$
	in terms of $|v|, |w|$, and $\cos(\theta)$.
 \end{question}
 
 You should have discovered the following theorem:
 
 \begin{theorem}
 	For any two vectors $v,w \in \R^n$,  $v \cdot w = |v||w|\cos(\theta)$.  In words, the dot product of two vectors is the product of the lengths of the two vectors,
 	times the cosine of the angle between them.
 \end{theorem}
 
 This gives an almost totally geometric picture of the dot product:  Given two vectors $\vec{v}$ and $\vec{w}$,  $|\vec{v}\cos(\theta)|$ can be viewed as the length of the
 projection of $\vec{v}$ onto the line containing $\vec{w}$.  So $|\vec{v}||\vec{w}|\cos(\theta)$ is the ``length of the projection of $\vec{v}$ in the direction of $\vec{w}$ times the
 length of $\vec{w}$''.
 
 BADBAD PICTURE
 
 As mentioned above, this theorem is really being used to \textit{define} the angle between two vectors.  This is not quite rigorous:  how do we even know that 
 $\frac{v \cdot w}{|v||w|}$ is even between $-1$ and $1$, so that it could be the cosine of an angle?  This is clear from the ``Euclidean Geometry'' perspective, 
 but not as clear from the ``Cartesian Geometry'' perspective.  To make sure that everything is okay, we prove the ``Cauchy-Schwarz'' theorem which reconciles these two
 worlds:
 
 \begin{theorem}
 	$v \cdot w \leq |v||w|$ for any two vectors $v,w \in \R^n$
 \end{theorem} 
 
 \begin{proof}
 	If $\vec{v}$ or $\vec{w}$ is the zero vector, the result is trivial.  So assume $\vec{v} \neq \vec{0}$ and $\vec{w} \neq \vec{0}$
	Start by noting that $\langle v-w,v-w\rangle \geq 0 $.  Expanding this out, we have:
	\[
		\langle v,v \rangle - 2 \langle v,w \rangle +\langle  w,w\rangle \geq 0
		2\langle v,w \rangle \leq \langle v,v \rangle  + \langle w,w\rangle
	\]
	
	Now, if $\vec{v}$ and $\vec{w}$ are unit vectors, this says that
	
	\[
	2\langle \vec{v}, \vec{w} \rangle \leq 2
	\langle \vec{v},\vec{w}\rangle \leq 1
	\]
	
	Now to prove the result for any pair of nonzero vectors, simply scale them to make them unit vectors:
	
	\[
	\langle \frac{1}{|\vec{v}|}\vec{v},\frac{1}{|\vec{w}|}\vec{w}\rangle \leq 1
	\langle v,w\rangle \leq  |v||w|
	\]
 \end{proof}
   
In the next question, we ask you to fill in the details of an alternative proof which, while a little harder than the one above, is at least as beautiful.

\begin{question}
	Start by noting that $\langle v-w,v-w\rangle \geq 0 $.  Expanding this out, we have:
	\[
		\langle v,v \rangle - 2 \langle v,w \rangle +\langle  w,w\rangle \geq 0
		2\langle v,w \rangle \leq \langle v,v \rangle  + \langle w,w\rangle
	\]
	
	Now notice that the left hand side is unaffected by scaling $v$ by a scalar $\lambda$ and $w$ by $\frac{1}{\lambba}$, but the left hand side is!
	This allows us to breath new life into the inequality:  we know that for every scalar $\lambda \in (0,\infty)$ 
	
	\[
		\langle  v,w \rangle \leq \lambda^2 |v|^2 + \frac{1}{\lambda^2} |w|^2
	\] 
	
	This is somewhat miraculous:  we have a stronger inequality than the one we started with ``for free".
	
	This new inequality is strongest when the left hand side (LHS) is minimized.  As it stands the LHS is just a function of one real variable $\lamba$.
	
	What is the value of $\lambda$ which minimizes the LHS? 
	\begin{answer} \sqrt{|w|/|v|}\end{answer}
	
	Conclude that the Cauchy-Schwarz theorem is true!
	
	Credit for this beautiful line of reasoning goes to Terry Tao at \url{https://terrytao.wordpress.com/2007/09/05/amplification-arbitrage-and-the-tensor-power-trick/}.
	
\end{question}


 \begin{question}
 	What is the angle between the vectors $BLAH$  and $BLAH$?
 \end{question}
	 	
 	\begin{question}
 		Find a vector which is perpendicular to $\verticalvector(2,3,1)$.  
 	\end{question}
 	
 	\begin{question}
 		Find a vector which is perpendicular to both $\verticalvector(2,3,1)$ and $\verticalvector(5,9,2)$
 	\begin{question}
	
\begin{question}
	Prove the ``Triangle inequality'':  For any two vector $\vec{v},\vec{w} \in \R^n$, $|\vec{v}+\vec{w}|\leq |\vec{v}+\vec{w}|$.  Draw a picture.  Why is this called the triangle inequality?
\end{question}
 	

\end{document}